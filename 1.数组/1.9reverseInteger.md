# 给你一个 32 位的有符号整数 x ，返回将 x 中的数字部分反转后的结果。如果反转后整数超过 32 位的有符号整数的范围 [−2^31,  2^31 − 1] ，就返回 0。假设环境不允许存储 64 位整数（有符号或无符号）。
# 我的解法
# 首先判断若整数超过32位，就返回0；将符号提取出来(即把所有数取正)，判断整数长度，若为偶数则1与n互换，2与n-1互换以此类推，若为奇数找到中位数，中位数不变，以中位数为中心两边互换；然后加上符号输出
# 出现问题：1.整数反转时，我们处理的是数字，而不是字符串。可以将数字转换为字符串来处理位数交换。2.输入x已经是32位整数，所以不需要检查输入，但需要检查输出。3.没有考虑溢出的问题。
# 修正：1.检查输入整数是否为0，如果是则直接返回0。2.提取整数的符号，并将整数转换为正数处理。3.将整数转换为字符串，以便处理数字位数。4.根据数字位数的奇偶性进行对称交换：如果位数为偶数，交换所有对称位置的数字。如果位数为奇数，中位数不变，交换其他对称位置的数字。5.将交换后的字符串转换回数字，并应用原始符号。6.检查反转后的数字是否在32位有符号整数范围内，如果超出则返回0，否则返回反转后的数字。
/**
 * @param {number} x
 * @return {number}
 */
var reverse = function(x) {
    <!-- [−2^31,  2^31 − 1] -->
    const MIN = -2147483648;
    const MAX = 2147483647;
    <!-- 检查输入整数是否为0 -->
    if (x === 0) return 0;
    <!-- 三元运算符，提取整数的符号，检查输入整数 `x` 是否为负数，如果是，将 `sign` 设置为 -1，否则设置为 1 -->
    let sign = x < 0 ? -1 : 1;
    let num = Math.abs(x);
    let str = num.toString();
    let n = str.length;
    let arr = str.split('');
    for (let i = 0; i < Math.floor(n / 2); i++) {
        let temp = arr[i];
        arr[i] = arr[n - 1 - i];
        arr[n - 1 - i] = temp;
    }
    let reversedStr = arr.join('');
    let reversedNum = parseInt(reversedStr) * sign;
    <!-- 处理溢出 -->
    if (reversedNum < MIN || reversedNum > MAX) {
        return 0;
    }
    
    return reversedNum;
};

# 标准答案
<!-- 1. 初始化result为0。
2. 当x != 0时：
pop = x % 10;  // 取最后一位
x = Math.trunc(x / 10);  // 去掉最后一位
现在，将result乘以10并加上pop，但之前需要检查是否溢出。
检查溢出的条件：
对于正数：
-如果result > Integer.MAX_VALUE / 10（即214748364.7），那么乘以10后会溢出。
-或者如果result == Integer.MAX_VALUE / 10 且 pop > 7，也会溢出。
对于负数：
-如果result < Integer.MIN_VALUE / 10（即-214748364.8），那么乘以10后会溢出。
-或者如果result == Integer.MIN_VALUE / 10 且 pop < -8，也会溢出。 -->
/**
 * @param {number} x
 * @return {number}
 */
var reverse = function(x) {
    const MAX = 2147483647;
    const MIN = -2147483648;
    
    if (x === MIN) return 0;
    
    let sign = x < 0 ? -1 : 1;
    x = Math.abs(x);
    let result = 0;
    
    while (x > 0) {
        let pop = x % 10;
        x = Math.floor(x / 10);
        
        if (result > 214748364 || (result === 214748364 && pop > 7)) {
            return 0;
        }
        
        result = result * 10 + pop;
    }
    
    return sign * result;
};